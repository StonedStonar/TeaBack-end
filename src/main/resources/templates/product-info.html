<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="UTF-8">
        <title>Information for one product</title>
        <link th:href = "@{/CSS/basic.css}" rel="stylesheet" type="text/css">
        <link th:href = "@{/CSS/card.css}" rel="stylesheet" type="text/css">
        <link th:href = "@{/CSS/product-info.css}" rel="stylesheet" type="text/css">
        <link th:href = "@{/CSS/review.css}" rel="stylesheet" type="text/css">
    </head>

    <body>
        <header id = "headerWrapper" th:replace="components/menu :: header">
        </header>

        <section class = "mainSection">
            <div id = "productContainer">
                <div id= "product-info">
                    <h2  class="mainHeaderText" th:text="${mainProduct.getProductName()}">
                        Troll Green Tea
                    </h2>
                    <figure>
                        <img src = "Images/greentea.jpg" id = "pictureOfTeaType" alt="Troll Green Tea Picture">
                        <figcaption>Picture taken from Nosplash</figcaption>
                    </figure>
                </div>
    
                <form id="addToCartContainer">
                    <div id="price-and-review">
                        <div class="product-info-price">
                            <div>
                                <span class = "former-price" th:if="${mainProduct.isOnSale()}">199kr</span>
                            </div>
                            <div th:if="${mainProduct.isOnSale()}">
                                <span class = "now-price">169kr</span>
                            </div>
                            <div th:if="${!mainProduct.isOnSale()}">
                                <span class = "normal-price" th:text="${mainProduct.getPrice()}">139</span>
                                <span class="normal-price"> kr</span>
                            </div>
                        </div>
                        <a class="star-rating" href = "#productReviews">
                                <div class="review-star-rating">
                                    <span class="star">&#9734;</span>
                                    <span class="star">&#9734;</span>
                                    <span class="star">&#9734;</span>
                                    <span class="star">&#9734;</span>
                                    <span class="star">&#9734;</span>
                                </div>
                                <span class = "inStock">(
                                    <span id="amount-of-reviews">666</span>
                                    )
                                </span>
                        </a>
                    </div>
                
                    <button type = "submit" class="Add-To-Cart greenButton button">
                        ADD TO CART
                    </button>
                    
                    <div class="amount">
                        <div class="amount-to-add">
                            <button class="minus-button" type="button">-</button>
                            <input class="num-to-change" value="1" name = "amountOfProduct">
                            <button class="plus-button" type="button">+</button>
                        </div>
    
                        <div class="amount-on-storage">
                            <span class="circle"></span>
                            <span class="amount-of-product" th:text="${mainProduct.getAmountOfProduct()}">170</span>
                            <span id = "storageStatus">+</span>
                            <span> on storage</span>
                        </div>
                    </div>
                </form>
            </div>

            <div class="drop-down-meny">
                <div class="dropdown">
                    <div id = "descriptionContainer">
                        <span>
                            Description
                        </span>
                        <img src = "#" srcset = "svg/Arrow-for-dropdown-meny.svg" alt = "A arrow head" class = "svg logo rotatableLogo">
                    </div>
                    <div id = "description">
                        <h4 th:text="${mainProduct.getProductName()}">
                            Chuck Norris doesn’t wear a watch. He decides what time it is.
                        </h4>
                        <p th:text="${productDetail.getDescription()}">
                            Chuck Norris’ roundhouse kick is so powerful, it can be seen from outer space by the naked eye.
                        </p>

                    </div>
                </div>
    
                <div class="dropdown">
                    <div id = "ingredientsContainer" >
                        <span>Ingredients</span>
                        <img src = "#" srcset = "svg/Arrow-for-dropdown-meny.svg" alt = "A arrow head" class = "svg logo rotatableLogo">
                    </div> 
                    <div id = "ingredients">
                        <p th:text="${productDetail.getIngredients()}">
                            Thyme 40g, sugar 100g, water 5dl
                        </p>
                    </div>
                </div>
    
                <div class="dropdown last">
                    <div id = "productReviewsContainer">
                        <span>Proudct reviews</span>
                        <img src = "#" srcset = "svg/Arrow-for-dropdown-meny.svg" alt = "A arrow head" class = "svg logo rotatableLogo">
                    </div>
                    <div id = "hiddenReview">

                        <div id = "productReviews">
                            <form class="review-form">
                                <span>Title of review</span>
                                <input type="text" placeholder="Title for review">
                                <span>Reviewer</span>
                                <input type="text" placeholder="Name or Username">
                                
                                <div class="set-star-rating" id = "reviewStars">
                                    <span>Set rating:</span>
                                    <span class="star">&#9734;</span>
                                    <span class="star">&#9734;</span>
                                    <span class="star">&#9734;</span>
                                    <span class="star">&#9734;</span>
                                    <span class="star">&#9734;</span>
                                </div>
                                <input type="number" name="starRating" id="setStarRating">
                                <textarea rows="8" placeholder="write you're review here"></textarea>
                                <button type="submit">Submit review</button>
                            </form>
    
                        </div>
                        <div class="review-content">
                            <button id = "reviewButton" class = "button greenButton">Write your review</button>
                            <div class="reviews-container" th:each="review:${mainProduct.getReviews()}">
                                <div class="review-body">
                                    <div class="name-reviewer" th:text="${review.getCustomerName()}">Per Ivar Johansen</div>
                                    <div class="content-container">
                                        <div class="country-review" th:text="${review.getDateOfReview()}">02.03.2011</div>
                                        <div class="review-star-rating">
                                            <span class="star">&#9734;</span>
                                            <span class="star">&#9734;</span>
                                            <span class="star">&#9734;</span>
                                            <span class="star">&#9734;</span>
                                            <span class="star">&#9734;</span>
                                            <span>(<span class="rating-numb"  th:text="${review.getRating()}">4</span>)</span>
                                        </div>
                                        <div class="description-review" th:text="${review.getComment}">"Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                                            sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                                            quis nostrud voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                                            Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
           
            <h3 id = "relatedProducts">
                Related products   
            </h3>
            <div class="card-container">
                <a href="product-info.html" class="card" th:each="product:${relatedProduct}" >
                    <div class="card-header">
                        <img src="images/greentea-cropped.jpg" alt="Tea card picture">
                        <div class="card-title" th:text="${product.getProductName()}">Blackberry Leaf Tea</div>
                        <div class="card-description" th:text="${product.getProductDetails().getDescription()}">Tea ingredients from the nature of norway</div>
                    </div>
        
                    <div class="card-body">
                        <div class="price" th:if = "${product.isOnSale()}">
                            <p class="now-price" th:text="${product.getPrice()}">169kr</p>
                            <p class="former-price">199kr</p>
                        </div>
                        <div class="price" th:if = "${!product.isOnSale()}">
                            <p class="now-price normal-price">199kr</p>
                        </div>
                        <div class="rating-on-cards">
                            <span class="star">&#9734;</span>
                            <span class="star">&#9734;</span>
                            <span class="star">&#9734;</span>
                            <span class="star">&#9734;</span>
                            <span class="star">&#9734;</span>
                            <span class="average-stars" th:text="${product.getAverageRating()}">2</span>
                            <span>(<span class="average-stars-on-card" th:text="${product.getReviews().size()}">69</span>)</span>
                        </div>
                        <form>
                            <button type="submit" class="add-to-cart greenButton button">ADD TO CART</button>
                        </form>
                    </div>
                </a>

            </div>

        </section>
        <script type="text/javascript" th:src="@{/javascript/menu.js}"></script>
        <script type="text/javascript" th:src="@{/javascript/product-info.js}"></script>
        <script type="text/javascript" th:src="@{/javascript/products.js}"></script>
        <footer id= "footerWrapper" th:replace="/components/footer :: footer">
    </footer>

    </body>
</html>